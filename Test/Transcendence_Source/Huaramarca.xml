<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE TranscendenceModule
[

]>
<TranscendenceModule>
<!-- HUARAMARCA SYSTEM -->
	
<SystemMap UNID="&smHuariSpace;" displayOn="&smHumanSpace;">	<RootNode ID="Huaramarca"/>
        <Node ID="Huaramarca" x="-139" y="453">		<System attributes="huari, humanSpace, noAutoGateCreate" level="6" name="Huaramarca">			<System UNID="&ssHuaramarca;"/>
            </System>
            <Stargates>			<Stargate DestID="[Prev]" Name="Inbound"/>
            </Stargates>
        </Node>
    </SystemMap>
    <SystemType UNID="&ssHuaramarca;" backgroundID="&rsRedGiantSpace;" noExtraEncounters="true" noRandomEncounters="true">	<Tables>		<OuterAsteroid>			<Table>				<Station chance="85" type="&stRockyOuterAsteroidSizeA;"/>
                    <Station chance="10" type="&stRockyAsteroidSizeA;"/>
                    <Station chance="4" type="&stRockyOuterAsteroidSizeB;"/>
                    <Station chance="1" type="&stRockyAsteroidSizeB;"/>
                </Table>
            </OuterAsteroid>
            <OuterAsteroidField>			<Group>				<Station showOrbit="true" type="&stRockyOuterAsteroidSizeD;"/>
                    <Siblings arcInc="2d411-412" count="2d20" radiusInc="-8-8">					<Lookup table="OuterAsteroid"/>
                    </Siblings>
                    <Siblings arcInc="2d319-320" count="2d20" radiusInc="-12-12">					<Lookup table="OuterAsteroid"/>
                    </Siblings>
                    <Siblings arcInc="2d219-220" count="2d16" radiusInc="-16-16">					<Lookup table="OuterAsteroid"/>
                    </Siblings>
                    <Siblings arcInc="2d99-100" count="2d12" radiusInc="-24-24">					<Lookup table="OuterAsteroid"/>
                    </Siblings>
                </Group>
            </OuterAsteroidField>
        </Tables>
        <SystemGroup>
			<!-- Star -->
			<!-- Worlds -->
			<!-- Comets -->
		
<Station type="&stRedGiantStar;"/>
            <AddAttribute attributes="redGiantSystem"/>
            <AddTerritory attributes="innerSystem, rockyComp, cinderZone" maxRadius="370" minRadius="0"/>
            <AddTerritory attributes="lifeZone, organicComp, primordialZone" maxRadius="620" minRadius="370"/>
            <AddTerritory attributes="outerSystem, waterComp, iceZone" maxRadius="0" minRadius="620"/>
            <Orbitals angle="incrementing:30-330">
				<!-- Urcaguary -->
				<!-- Pariacaca -->
				<!-- Illapa -->
				<!-- Mama Cocha -->
				<!-- Supay -->
			
<Group distance="80">				<Primary>					<Station name="Urcaguary" showOrbit="true" type="&stVolcanicTerrestrialSizeH;"/>
                    </Primary>
                </Group>
                <Group distance="160">				<Primary>					<Station name="Pariacaca" showOrbit="true" type="&stRockyPlanetoidSizeF;"/>
                    </Primary>
                </Group>
                <Group distance="270">
					<!-- Huari Temple -->
					<!-- Asteroids -->
				
<Primary>					<Station name="Illapa" showOrbit="true" type="&stIcePlanetoidSizeG;"/>
                    </Primary>
                    <Orbitals angle="random" distance="80">					<Group>						<Station type="&stHuariTemple;"/>
                            <Siblings arcInc="+20">							<Station noMapLabel="true" type="&stHuariHabitat;"/>
                            </Siblings>
                            <Siblings arcInc="-20">							<Station noMapLabel="true" type="&stHuariHabitat;"/>
                            </Siblings>
                            <Siblings arcInc="+40">							<Station noMapLabel="true" type="&stHuariHabitat;"/>
                            </Siblings>
                            <Siblings arcInc="-40">							<Station noMapLabel="true" type="&stHuariHabitat;"/>
                            </Siblings>
                        </Group>
                    </Orbitals>
                    <Siblings count="300" distribution="4d40-82">					<Lookup table="OuterAsteroid"/>
                    </Siblings>
                </Group>
                <Group distance="520">
					<!-- Moons of Mama Cocha -->
				
<Primary>					<Station name="Mama Cocha" showOrbit="true" type="&stMethaneGasGiantSizeK;"/>
                    </Primary>
                    <Orbitals angle="incrementing:45-315">					<Group distance="20">						<Primary>							<Station type="&stRockyOuterAsteroidSizeB;"/>
                            </Primary>
                        </Group>
                        <Group distance="40">						<Primary>							<Station type="&stRockyPlanetoidSizeG;"/>
                            </Primary>
                        </Group>
                        <Group distance="80">						<Primary>							<Station type="&stRockyPlanetoidSizeE;"/>
                            </Primary>
                        </Group>
                    </Orbitals>
                </Group>
                <Group distance="900">				<Primary>					<Station name="Supay" showOrbit="true" type="&stIcePlanetoidSizeF;"/>
                    </Primary>
                    <Orbitals angle="random" distance="40">					<Stargate objName="Inbound" type="&stMajellenStargate;">						<Ships>							<Ship class="&scHurinDestroyer;" count="4" orders="patrol" patrolDist="15" sovereign="&svHuariEmpire;"/>
                            </Ships>
                        </Stargate>
                    </Orbitals>
                    <Orbitals angle="random" count="6d60" distance="2d12+20">					<Lookup table="OuterAsteroid"/>
                    </Orbitals>
                </Group>
            </Orbitals>
            <Orbitals angle="random" count="3-6" distance="1d8+20" eccentricity="1d20" rotation="random" scale="light-minute">			<Lookup table="OuterAsteroidField"/>
            </Orbitals>
        </SystemGroup>
        <Events>		<OnGlobalTopologyCreated>
				(block (gateway)
					; Pick a random system in Huari space to have a gateway to Huaramarca
					(setq gateway
						(random
							(filter (sysGetNodes) theNode 
								(sysHasAttribute theNode 'huaramarcaGate)
								)
							)
						)
					(if gateway
						(block Nil
							(typSetGlobalData &svHuariEmpire; "huaramarcaGateway" gateway)
							(sysAddStargateTopology gateway "GateToHuaramarca" "Huaramarca" "Inbound")
							)
						)
					)
			
</OnGlobalTopologyCreated>
            <OnGlobalSystemCreated>
				(if (eq (sysGetNode) (typGetGlobalData &svHuariEmpire; "huaramarcaGateway"))
					(block Nil
						; Create a stargate in deep space away from everything
						(sysCreateStargate 
							&stUnchartedMajellenStargate;
							(sysVectorRandom Nil (random 1200 1500) 300 "t")
							"GateToHuaramarca"
							"Huaramarca"
							"Inbound"
							)
						)
					)
			
</OnGlobalSystemCreated>
        </Events>
    </SystemType>
</TranscendenceModule>
